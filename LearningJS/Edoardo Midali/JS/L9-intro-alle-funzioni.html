<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>L9: Introduzione alla funzioni</title>
  </head>
  <body>
    <button>Salutami</button>

    <script>
      // 1. Blocchi di codici riutilizzabili
      // set di istruzioni che si ripete ogni volta che viene richiamato
      // diverse da loop
      function cucinaPasta() {
        tiraFuoripentola;
        mettereAcqua;
        lasciareBollire;
        mettereSale;
        metterePasta;
        fareSugo;
        impiattate;
      }

      // 2. Funzioni del browser string.replace, array.join, math.random

      // anche questa è una funzione
      // date insieme al browser
      let u = "Umberto";
      let e = u.replace("Umberto", "Emma");
      console.log(e);

      // 3. Funzioni e metodi
      // metodi: funzioni di oggetti
      // funzioni: al di fuori di oggetti o custom
      // però sono praticamente la stessa cosa

      // 4. Invocare una funzione
      // predefinita
      u.replace("Luca", "Piero");
      console.log(u);
      // custom
      function ciao() {
        console.log("ciao");
      }

      ciao(); // invocazione

      // 5. Funzioni anonime
      // no nome, le chiamiamo in un altro modo
      // molto usate negli eventi e nelle callback
      const myButton = document.querySelector("button");

      myButton.onclick = function () {
        // funzione anonima
        alert("hello");
      };

      // potrei assegnare la funzione anonima a una variabile
      // in questo modo però la starei dotando di un nome

      // 6. SCOPE e i conflitti
      // scope: scopo delle variabili dentro e fuori dalla funzione
      // globali: fuori dalla funzione
      let nome = "Umberto";
      let eta = 25;
      // locali: dentro alla funzione
      function prova() {
        let cognome = "Pasinetti";
        console.log(`${nome} ${cognome} ha ${eta} anni`);
      }

      prova();

      console.log(nome);
      // console.log(cognome); 
      // mi da errore (not defined) perché lo scope di cognome è prova()

      // 7. Innestare funzioni
      // 8. Parametri
      // parametro: ciò che sta dentro le ()
      // in questo caso name
      // la f si aspetta in entrata OGNI VOLTA il parametro name
      // name è come se fosse un segnaposto
      // (non deve corrispondere necessariamente a qualcosa)
      function hello(x) {
        console.log("hello", x);
      }

      hello(); // stampa undefined: non ho richiamato la funzione con il parametro
      hello(e); // funzione richiamata correttamente con il parametro

      function ciao() {
        let su = "Pasinetti";
        let se = "Franchino";
        console.log("ciao", su);
        hello(se); // funzioni innestate
        // ha il parametro in entrata
        // il parametro può essere solo locale
        // se prendo una variabile globale mi da errore ???
      }

      ciao(); // non parametro perché la f ciao() non ce l'ha
      // ciao(surname); // error

      // concatenazione di funzioni serve molto nelle tabelle
      // esempio di innesto
      function generaTabella() {
        generaHeader();
        generaRighe();
        generaFooter();
        console.log("Tabella generata");
      }
      
      function generaHeader() {
        console.log("Header generato");
      }

      function generaRighe() {
        console.log("Righe generate");
      }

      function generaFooter() {
        console.log("Footer generato");
      }

      generaTabella();
    </script>
  </body>
</html>
